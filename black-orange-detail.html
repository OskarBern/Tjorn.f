<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skärgård: Black & Orange Fireline - TJÖRN FINESSE</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo-text">
                TJÖRN FINESSE
            </a>
            <nav>
                <a href="index.html#lure-showcase">The Skärgård Shop</a>
                <a href="rigging-guide.html">Rigging Guide</a>
                <a href="about-us.html">Our Story</a>
                <a href="shipping-returns.html">Shipping & Returns</a>
                <a href="contact.html">Contact</a>
                <a href="cart.html" id="cartLink">Cart (0)</a>
            </nav>
        </div>
    </header>

    <section class="product-detail-page container">
        <div class="product-layout">
            
            <div class="gallery">
                <div class="main-image-placeholder">
                    <img src="IMG_2133.HEIC" alt="Skärgård Black & Orange Fireline Lure Main View">
                </div>
                <div class="thumbnail-row">
                    <div>
                        <img src="IMG_2132.HEIC" alt="Black & Orange Top View">
                    </div>
                    <div>
                        <img src="IMG_2138.HEIC" alt="Black & Orange Side View">
                    </div>
                    <div>[Rigged]</div>
                </div>
            </div>

            <div class="purchase-info">
                <h1>The Skärgård: Black & Orange Fireline</h1>
                <p class="price-tag">110Sek - 120Sek</p>

                <div class="selector-group">
                    <label>SIZE / PACK:</label>
                    <select>
                        <option value="120Sek">Small (9cm, 2-pack) - 120Sek</option>
                        <option value="110Sek">Large (15cm, 1-pack) - 110Sek</option>
                    </select>
                </div>

                <a href="#" class="btn primary add-to-cart-btn" id="addToCartBtn">Add To Cart</a>
                
                <h3 class="product-subtitle">Product Overview</h3>
                <p>An aggressive, high-visibility pattern designed to stand out. The striking orange lateral line and tail provide a massive contrast against the dark black body, making it ideal for deep water, cloudy days, or heavy cover.</p>
                
                <h3 class="product-subtitle">Key Features</h3>
                <ul class="key-features-list">
                    <li>• Extreme Contrast: Triggers territorial and aggressive strikes.</li>
                    <li>• Fireline Visibility: The orange stripe mimics common warning/feeding colors.</li>
                    <li>• Best for: Stained water, low light, and reaction bites.</li>
                </ul>

            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 TJÖRN FINESSE. All Rights Reserved. | <a href="shipping-returns.html">Shipping & Returns</a> | <a href="contact.html">Contact</a></p>
        </div>
    </footer>

    <!-- ⭐ FIXED ADD TO CART SCRIPT ⭐ -->
    <script>
    function updateCartLink() {
        const cart = JSON.parse(localStorage.getItem("cart") || "[]");
        document.getElementById("cartLink").textContent = `Cart (${cart.length})`;
    }

    updateCartLink();

    document.getElementById("addToCartBtn").addEventListener("click", function(e) {
        e.preventDefault();

        let cart = JSON.parse(localStorage.getItem("cart") || "[]");

        const select = document.querySelector(".selector-group select");
        const selectedText = select.options[select.selectedIndex].text;

        const size = selectedText.split(" - ")[0];
        const priceString = selectedText.split(" - ")[1].replace("$", "");
        const price = parseFloat(priceString);

        const productName = document.querySelector("h1").innerText;

        const product = {
            name: productName,
            size: size,
            price: price,
            quantity: 1
        };

        // Check if same item already exists
        const existing = cart.find(item => item.name === product.name && item.size === product.size);

        if (existing) {
            existing.quantity++;
        } else {
            cart.push(product);
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartLink();

        alert(`${productName} (${size}) added to cart!`);
    });
    </script>

</body>
</html>
