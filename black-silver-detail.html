<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skärgård: Black & Silver Shiner - TJÖRN FINESSE</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo-text">
                TJÖRN FINESSE
            </a>
            <nav>
                <a href="index.html#lure-showcase">The Skärgård Shop</a>
                <a href="rigging-guide.html">Rigging Guide</a>
                <a href="about-us.html">Our Story</a>
                <a href="shipping-returns.html">Shipping & Returns</a>
                <a href="contact.html">Contact</a>
                <a href="#" id="cartLink">Cart (0 / 0Sek)</a>
            </nav>
        </div>
    </header>

    <section class="product-detail-page container">
        <div class="product-layout">
            
            <div class="gallery">
                <div class="main-image-placeholder">
                    <img src="IMG_2130.HEIC" alt="Skärgård Black & Silver Shiner Lure Main View">
                </div>
                <div class="thumbnail-row">
                    <div>
                        <img src="IMG_2131.HEIC" alt="Black & Silver Close-up">
                    </div>
                    <div>[Action Shot]</div>
                    <div>[Rigged]</div>
                </div>
            </div>

            <div class="purchase-info">
                <h1 id="productName">The Skärgård: Black & Silver Shiner</h1>
                <p class="price-tag">110Sek - 120Sek</p>

                <div class="selector-group">
                    <label>SIZE / PACK:</label>
                    <select id="sizeSelect">
                        <option value="120Sek">Small (9cm, 2-pack) - 120Sek</option>
                        <option value="110Sek">Large (15cm, 1-pack) - 110Sek</option>
                    </select>
                </div>

                <a href="#" class="btn primary add-to-cart-btn" id="addToCartBtn">Add To Cart</a>
                
                <h3 class="product-subtitle">Product Overview</h3>
                <p>A highly realistic baitfish imitation featuring a dark, natural back and a detailed silver scale pattern. This color is engineered for finesse presentation in clear water where fish are heavily relying on visual cues.</p>
                
                <h3 class="product-subtitle">Key Features</h3>
                <ul class="key-features-list">
                    <li>• Natural Profile: Mimics herring and shiner patterns perfectly.</li>
                    <li>• Detailed Finish: Textured scale pattern and realistic eye placement.</li>
                    <li>• Best for: Clear water, sunny days, dropshotting, or slow jigging.</li>
                </ul>

            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 TJÖRN FINESSE. All Rights Reserved. | <a href="shipping-returns.html">Shipping & Returns</a> | <a href="contact.html">Contact</a></p>
        </div>
    </footer>

    <script>
        // Initialize cart from localStorage
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        // Update navbar cart link with count and total price
        function updateCartLink() {
            const cartLink = document.getElementById("cartLink");
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            cartLink.textContent = `Cart (${cart.length} / ${total}Sek)`;
        }

        updateCartLink();

        const addBtn = document.getElementById("addToCartBtn");
        const select = document.getElementById("sizeSelect");
        const baseProductName = document.getElementById("productName").textContent.trim();


        addBtn.addEventListener("click", function(e) {
            e.preventDefault();

            // Get the selected option's display text
            const selectedText = select.options[select.selectedIndex].text;
            
            // Get the price from the option's value attribute (cleaner method)
            const price = parseFloat(select.value);

            // Extract the size/pack description (e.g., "Small (4-inch, 8-pack)")
            const sizePackMatch = selectedText.match(/(.+?) -/);
            const sizePack = sizePackMatch ? sizePackMatch[1].trim() : 'Unknown Size/Pack';

            // Create the full product name for the cart
            const fullProductName = `${baseProductName} - ${sizePack}`;

            if (price > 0) {
                // Add the item to the cart object with name and price
                cart.push({ 
                    name: fullProductName, 
                    price: price 
                });
                localStorage.setItem("cart", JSON.stringify(cart));

                updateCartLink();

                // Show a pop-up with the product name and price
                alert(`${fullProductName} (${price}Sek) added to cart!`);
            } else {
                alert("Please select a valid size/pack.");
            }
        });
    </script>

</body>
</html>